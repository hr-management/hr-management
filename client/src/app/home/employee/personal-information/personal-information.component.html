<div class="personal-infomation">
  <div class="header">
    <h2>Personal Infomation</h2>
    <div class="btns">
      <button mat-raised-button *ngIf="isEdit" (click)="handleCancel()">
        Cancel
      </button>
      <button
        mat-raised-button
        color="primary"
        *ngIf="!isEdit"
        (click)="handleEdit()"
      >
        Edit
      </button>
      <button
        mat-raised-button
        color="primary"
        *ngIf="isEdit"
        style="margin-left: 12px;"
        (click)="handleSave()"
      >
        Save
      </button>
    </div>
  </div>
  <app-personal-infomation-form
    [user]="user"
    [isEdit]="isEdit"
    #personForm
  ></app-personal-infomation-form>
  <!-- <form [formGroup]="form">
    <mat-card>
      <mat-card-content>
        <mat-card-title>Base Info</mat-card-title>
        <p class="row">
          <img
            [src]="form.value['profilePhoto']"
            alt="avatar"
            class="avatar"
            width="66px"
            height="66px"
          />
          <input
            #avatar
            hidden="true"
            type="file"
            onclick="this.value=null"
            (change)="handleAvatarUpload($event)"
          />
          <button mat-flat-button color="primary" (click)="avatar.click()" [disabled]="!isEdit">
            Upload Profile Picture
          </button>
        </p>

        <p class="row">
          <mat-form-field>
            <mat-label>First Name</mat-label>
            <input
              matInput
              placeholder="First Name"
              formControlName="firstName"
              required
            />
            <mat-error *ngIf="form.controls['firstName'].errors?.['required']">
              Required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Last Name</mat-label>
            <input
              matInput
              placeholder="Last Name"
              formControlName="lastName"
              required
            />
            <mat-error *ngIf="form.controls['lastName'].errors?.['required']">
              Required
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Middle Name</mat-label>
            <input
              matInput
              placeholder="Middle Name"
              formControlName="middleName"
            />
          </mat-form-field>

          <mat-form-field>
            <mat-label>Preferred Name</mat-label>
            <input
              matInput
              placeholder="Preferred Name"
              formControlName="preferredName"
            />
          </mat-form-field>
        </p>

        <p class="row">
          <mat-form-field>
            <mat-label>Email</mat-label>
            <input
              matInput
              placeholder="Email"
              formControlName="email"
              type="email"
            />
            <mat-error *ngIf="form.controls['email'].errors?.['required']">
              Required
            </mat-error>
            <mat-error *ngIf="form.controls['lastName'].errors?.['email']">
              Please provide valid email
            </mat-error>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>BirthDate</mat-label>
            <input
              matInput
              [matDatepicker]="picker"
              formControlName="birthDate"
              [max]="maxDate"
            />
            <mat-datepicker-toggle
              matIconSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>

          <mat-form-field appearance="fill">
            <mat-label>Gender</mat-label>
            <mat-select formControlName="gender">
              <mat-option value="male">male</mat-option>
              <mat-option value="female">female</mat-option>
              <mat-option value="I do not wish to answer">
                I do not wish to answer
              </mat-option>
            </mat-select>
          </mat-form-field>
        </p>
      </mat-card-content>
    </mat-card>

    <mat-card style="margin-top: 32px">
      <mat-card-content>
        <mat-card-title>Address</mat-card-title>

        <p class="row">
          <mat-form-field>
            <mat-label>Building</mat-label>
            <input matInput placeholder="Building" formControlName="building" />
          </mat-form-field>

          <mat-form-field>
            <mat-label>Street</mat-label>
            <input matInput placeholder="Street" formControlName="street" />
          </mat-form-field>

          <mat-form-field>
            <mat-label>City</mat-label>
            <input matInput placeholder="City" formControlName="city" />
          </mat-form-field>

          <mat-form-field>
            <mat-label>State</mat-label>
            <input matInput placeholder="State" formControlName="state" />
          </mat-form-field>
        </p>
        <p class="row">
          <mat-form-field>
            <mat-label>Zip</mat-label>
            <input
              matInput
              placeholder="Zip"
              formControlName="zip"
              type="number"
            />
            <mat-error
              *ngIf="form.controls['zip'].errors?.['minlength'] || form.controls['zip'].errors?.['maxlength']"
            >
              Zip length must be 6
            </mat-error>
          </mat-form-field>
        </p>
      </mat-card-content>
    </mat-card>

    <mat-card style="margin-top: 32px">
      <mat-card-content>
        <mat-card-title>Contact Phone</mat-card-title>

        <mat-form-field>
          <mat-label>CellPhoneNumber</mat-label>
          <input
            matInput
            placeholder="CellPhoneNumber"
            type="text"
            formControlName="cellPhoneNumber"
          />
          <mat-error *ngIf="form.controls['cellPhoneNumber'].errors?.['minlength']">
            min length is 5
          </mat-error>
        </mat-form-field>

        <mat-form-field>
          <mat-label>WorkPhoneNumber</mat-label>
          <input
            matInput
            placeholder="WorkPhoneNumber"
            type="text"
            formControlName="workPhoneNumber"
          />
          <mat-error *ngIf="form.controls['workPhoneNumber'].errors?.['minlength']">
            min length is 5
          </mat-error>
        </mat-form-field>
      </mat-card-content>
    </mat-card>

    <mat-card style="margin-top: 32px">
      <mat-card-content>
        <mat-card-title>Employment</mat-card-title>
        <mat-form-field appearance="fill">
          <mat-label>Visa Title</mat-label>
          <mat-select formControlName="type">
            <mat-option *ngFor="let item of visaTypes" [value]="item">
              {{ item }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Start Date</mat-label>
          <input
            matInput
            [matDatepicker]="pickerStartDate"
            formControlName="startDate"
          />
          <mat-datepicker-toggle
            matIconSuffix
            [for]="pickerStartDate"
          ></mat-datepicker-toggle>
          <mat-datepicker #pickerStartDate></mat-datepicker>
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>End Date</mat-label>
          <input
            matInput
            [matDatepicker]="pickerEndDate"
            formControlName="endDate"
          />
          <mat-datepicker-toggle
            matIconSuffix
            [for]="pickerEndDate"
          ></mat-datepicker-toggle>
          <mat-datepicker #pickerEndDate></mat-datepicker>
        </mat-form-field>
      </mat-card-content>
    </mat-card>

    <mat-card style="margin-top: 32px">
      <mat-card-content>
        <mat-card-title>Emergency Contact</mat-card-title>

        <p class="row">
          <mat-form-field>
            <mat-label>First Name</mat-label>
            <input
              matInput
              placeholder="First Name"
              formControlName="efirstName"
            />
          </mat-form-field>
          <mat-form-field>
            <mat-label>Last Name</mat-label>
            <input
              matInput
              placeholder="Last Name"
              formControlName="elastName"
            />
          </mat-form-field>

          <mat-form-field>
            <mat-label>Middle Name</mat-label>
            <input
              matInput
              placeholder="Middle Name"
              formControlName="emiddleName"
            />
          </mat-form-field>
        </p>

        <p class="row">
          <mat-form-field>
            <mat-label>Phone</mat-label>
            <input
              matInput
              placeholder="Phone"
              type="text"
              formControlName="ephone"
            />
          </mat-form-field>

          <mat-form-field>
            <mat-label>Email</mat-label>
            <input
              matInput
              placeholder="Email"
              formControlName="eemail"
              type="email"
            />
            <mat-error *ngIf="form.controls['eemail'].errors?.['email']">
              Please provide valid email
            </mat-error>
          </mat-form-field>

          <mat-form-field>
            <mat-label>Relationship</mat-label>
            <input
              matInput
              placeholder="Relationship"
              type="text"
              formControlName="erelationship"
            />
          </mat-form-field>
        </p>
      </mat-card-content>
    </mat-card>

    <mat-card style="margin-top: 32px">
      <mat-card-content>
        <mat-card-title>Documents</mat-card-title>

        <!-- <p class="row">
          <mat-form-field>
            <mat-label>DriverLicense</mat-label>
            
          </mat-form-field>
        </p>

        <p class="row">
          <mat-form-field>
            <mat-label>workAuthDoc</mat-label>
          </mat-form-field>
        </p> -->
  <!-- </mat-card-content>
    </mat-card>
  </form> -->
</div>
